{% extends "dashboard.html" %}

{% block content %}
<main>
  <div class="container-fluid px-4">
    <h1 class="mt-4">Resultados de la Búsqueda</h1>
    <ol class="breadcrumb mb-4">
      <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
      <li class="breadcrumb-item active">Resultados</li>
    </ol>

    {% if busqueda %}
      <h4>Resultados para: "{{ busqueda }}"</h4>
      
      <div class="row mt-4">
        <!-- Resultados de salas -->
        {% if salas %}
        <div class="col-md-6">
          <h5>Salas Encontradas</h5>
          <ul class="list-group">
            {% for sala in salas %}
            <li class="list-group-item">
              {{ sala.nombre_sala }} - Ubicación: {{ sala.ubicacion }}
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}

        <!-- Resultados de computadores -->
        {% if computadores %}
        <div class="col-md-6">
          <h5>Computadores Encontrados</h5>
          <ul class="list-group">
            {% for computador in computadores %}
            <li class="list-group-item">
              Tipo: {{ computador.tipo }} - Marca: {{ computador.marca }} - Modelo: {{ computador.modelo }}
              <br>
              Sala: <a href="{% url 'pc' computador.id_sala.id_sala %}">{{ computador.id_sala.nombre_sala }}</a>
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}
      </div>

      <!-- Si no hay resultados de salas ni computadores -->
      {% if not salas and not computadores %}
      <p>No se encontraron resultados.</p>
      {% endif %}

    {% else %}
      <p>No se ha realizado ninguna búsqueda.</p>
    {% endif %}
  </div>
</main>
{% endblock %}
